unit udmPessoas;

interface

uses
  System.SysUtils, System.Classes, Data.FMTBcd, Datasnap.DBClient,
  Datasnap.Provider, Data.DB, Data.SqlExpr;

type
  TdmPessoas = class(TDataModule)
    sqlPqPessoas: TSQLDataSet;
    dspPqPessoas: TDataSetProvider;
    cdsPqPessoas: TClientDataSet;
    dspCadPessoa: TDataSetProvider;
    cdsCadPessoa: TClientDataSet;
    sqlCadPessoa: TSQLDataSet;
    cdsCadPessoaIDTITULAR: TIntegerField;
    cdsCadPessoaIDEMPRESA: TIntegerField;
    cdsCadPessoaNMTITULAR: TStringField;
    cdsCadPessoaNOCNPJCPF: TStringField;
    cdsCadPessoaNOINCRICAORG: TStringField;
    cdsCadPessoaDTNASCIMENTO: TDateField;
    cdsCadPessoaDTCADASTRO: TDateField;
    cdsCadPessoaTXEMAIL: TStringField;
    cdsCadPessoaTXOBS: TStringField;
    cdsCadPessoaTLRESIDENCIAL: TStringField;
    cdsCadPessoaTLCOMERCIAL: TStringField;
    cdsCadPessoaTLCELULAR: TStringField;
    cdsCadPessoaTLCONTATO: TStringField;
    cdsCadPessoaNMCONTATO: TStringField;
    cdsCadPessoaSTEXCLUIDO: TStringField;
    cdsCadPessoaDTEXCLUIDO: TDateField;
    cdsCadPessoaSTATIVO: TStringField;
    dspComboEmpresa: TDataSetProvider;
    cdsComboEmpresa: TClientDataSet;
    sqlComboEmpresa: TSQLDataSet;
    cdsComboEmpresaIDEMPRESA: TIntegerField;
    cdsComboEmpresaNMEMPRESA: TStringField;
    procedure cdsPqPessoasAfterPost(DataSet: TDataSet);
  private
    { Private declarations }
  public
    { Public declarations }
  end;

var
  dmPessoas: TdmPessoas;

implementation

uses
  udmPrincipal;

{%CLASSGROUP 'Vcl.Controls.TControl'}

{$R *.dfm}

procedure TdmPessoas.cdsPqPessoasAfterPost(DataSet: TDataSet);
begin
  if cdsPqPessoas.FieldByName('').AsInteger = 0 then
  begin
    //PegarCodigoAutoIncrement
  end;
  
end;

end.
